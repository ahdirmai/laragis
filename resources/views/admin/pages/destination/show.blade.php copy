@extends('layouts.admin.app')
@section('title','Detail '.$destination->name)


@section('content')
<div class="container-xxl flex-grow-1 container-p-y">
    <div class="card mb-4">
        <div class="card-header d-flex align-items-center justify-content-between">
            <h5 class="mb-0">{{ $destination->name }}</h5>
            <p class="card-text">
                <span class="badge rounded-pill bg-primary">{{ $destination->category->name }}</span>

            </p>
        </div>
        <div class="card-body">
            <div class="d-flex justify-content-center">
                <div id="carouselExample" class="carousel slide  w-75 h-50" data-bs-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-bs-target="#carouselExample" data-bs-slide-to="0" class="active"></li>
                        <li data-bs-target="#carouselExample" data-bs-slide-to="1"></li>
                        <li data-bs-target="#carouselExample" data-bs-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner ">
                        <div class="carousel-item active">
                            <img class="d-block w-100" src="https://source.unsplash.com/random" alt="First slide" />
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="https://source.unsplash.com/200x200" alt="Second slide" />

                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="https://source.unsplash.com/random" alt="Third slide" />

                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselExample" role="button" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExample" role="button" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <div class="card text-center">
        <div class="card-body">
            <div class="demo-inline-spacing mt-3">
                <div class="list-group list-group-horizontal-md text-md-center">
                    <a class="list-group-item list-group-item-action active" id="home-list-item" data-bs-toggle="list"
                        href="#description">Description</a>
                    <a class="list-group-item list-group-item-action" id="profile-list-item" data-bs-toggle="list"
                        href="#location">Location</a>
                    <a class="list-group-item list-group-item-action" id="messages-list-item" data-bs-toggle="list"
                        href="#open-hours">Open Hours</a>
                    <a class="list-group-item list-group-item-action" id="settings-list-item" data-bs-toggle="list"
                        href="#setting">Settings</a>
                </div>
                <div class="tab-content px-0 mt-0">
                    <div class="tab-pane fade show active" id="description">
                        {{ $destination->description }} </div>
                    <div class="tab-pane fade" id="location">
                        <p class="card-text">{{$destination->address}}</p>

                        <div id="map"></div>

                    </div>
                    <div class="tab-pane fade" id="open-hours">
                        <div class="flex flex-col">
                            @foreach ($destination->destinationDetails->detail as $key=>$value)
                            <div class="card-text flex flex-row mb-4">
                                <div class="text-bold"> {{ Str::upper( $key)}}</div>
                                <div> {{ $value['open'] }} - {{ $value['close'] }}</div>
                            </div>
                            @endforeach
                        </div>
                    </div>
                    <div class="tab-pane fade" id="setting">
                        Marzipan cake oat cake. Marshmallow pie chocolate. Liquorice oat cake donut halvah jelly-o.
                        Jelly-o muffin macaroon cake gingerbread candy cupcake. Cake lollipop lollipop jelly brownie
                        cake topping chocolate. Pie oat cake jelly. Lemon drops halvah jelly cookie bonbon cake
                        cupcake ice cream. Donut tart bonbon sweet roll souffl√© gummies biscuit. Wafer toffee
                        topping jelly beans icing pie apple pie toffee pudding. Tiramisu powder macaroon tiramisu
                        cake halvah.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@push('styles')
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

<style>
    #map {
        height: 400px;
    }
</style>
@endpush

@push('scripts')
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script>
    var lat = {{$destination->latitude}};
    var long = {{$destination->longitude}};
    var zoom = 15;
    var map = L.map('map').setView([lat, long], zoom);
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    setTimeout(function() {
            map.invalidateSize();
        }, 100);

        L.marker({
        lat:{{ $destination->latitude }},
        lon:{{ $destination->longitude }}
    }).addTo(map)
</script>

<script>

</script>

@endpush

@endsection